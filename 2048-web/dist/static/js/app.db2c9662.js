(function(e){function n(n){for(var r,c,s=n[0],u=n[1],a=n[2],f=0,d=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(n);while(d.length)d.shift()();return i.push.apply(i,a||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,s=1;s<t.length;s++){var u=t[s];0!==o[u]&&(r=!1)}r&&(i.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},o={app:0},i=[];function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var a=0;a<s.length;a++)n(s[a]);var l=u;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],c=(t("5c0b"),t("2877")),s={},u=Object(c["a"])(s,o,i,!1,null,null,null),a=u.exports,l=t("8c4f"),f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[t("header",[t("h1",[e._v("2048")]),t("button",{staticClass:"init-button",on:{click:e.init}},[e._v("New Game")]),t("p",[e._v(" Score: "),t("span",[e._v(e._s(e.score))])])]),t("div",{staticClass:"container"},[e.success?t("div",{staticClass:"mask"},[t("h1",[e._v("You win!")]),t("button",{staticClass:"init-button",on:{click:e.init}},[e._v("Try again")])]):e._e(),e.gameover?t("div",{staticClass:"mask"},[t("h1",[e._v("Game over!")]),t("button",{staticClass:"init-button",on:{click:e.init}},[e._v("Try again")])]):e._e(),t("Background"),t("div",{staticClass:"number-cells"},[t("transition-group",{attrs:{name:"appear"}},e._l(e.numberCells,(function(n){return t("div",{key:n.id,staticClass:"number-cell",style:"\n        width: 80px;\n        height: 80px;\n        border-radius: 5px;\n        font-size: 32px;\n        font-weight: bold;\n        line-height: 80px;\n        color: #776e65;\n\n        position: absolute;\n        z-index: "+n.num+";\n        backgroundColor: "+n.color+";\n        top: "+e.getTop(n)+";\n        left: "+e.getLeft(n)+";\n        ",attrs:{id:"c"+n.id}},[e._v(" "+e._s(n.num)+" ")])})),0)],1)],1)])},d=[],m=(t("4de4"),t("7db0"),t("c740"),t("a434"),t("53ca")),v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"background"},e._l(16,(function(e){return t("div",{key:e,staticClass:"grid-cell"})})),0)},h=[],p={},y=p,b=(t("b14d"),Object(c["a"])(y,v,h,!1,null,"3b597fae",null)),g=b.exports,x={name:"Home",components:{Background:g},data:function(){return{score:0,numberCells:[],color:{2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#0444BF",1024:"#A79674",2048:"#282726",4096:"#280b21",8192:"#281d04"},auxId:0,success:!1,gameover:!1,canMove:!0}},mounted:function(){var e=this;this.init(),document.addEventListener("keyup",(function(n){if(e.canMove)switch(n.key.toLocaleUpperCase()){case"ARROWUP":case"W":e.moveUp(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case"ARROWDOWN":case"S":e.moveDown(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case"ARROWLEFT":case"A":e.moveLeft(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break;case"ARROWRIGHT":case"D":e.moveRight(),e.success=e.isSuccess(),e.gameover=e.isGameOver();break}}))},methods:{init:function(){this.numberCells.length=0,this.score=0,this.auxId=0,this.success=!1,this.gameover=!1,this.generateOneNumberCell(),this.generateOneNumberCell()},generateOneNumberCell:function(){var e=this;if(!this.isFull()){var n=this.random24(),t={x:this.random0123(),y:this.random0123(),num:n,color:this.color[n],id:this.auxId++},r=function(){return e.getCellByPoint({x:t.x,y:t.y})};while(r())t.x=this.random0123(),t.y=this.random0123();this.numberCells.push(t)}},random24:function(){return Math.random()<=.7?2:4},random0123:function(){return parseInt(4*Math.random())},getCellByPoint:function(e){var n=e.x,t=e.y;return this.numberCells.find((function(e){return e.x===n&&e.y===t}))},getTop:function(e){return"".concat(20+95*e.y,"px")},getLeft:function(e){return"".concat(20+95*e.x,"px")},sortByX:function(e,n){return e.x-n.x},sortByY:function(e,n){return e.y-n.y},getIndexById:function(e){return this.numberCells.findIndex((function(n){return n.id===e}))},animateMerge:function(e){e.animate([{transform:"scale(0)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],{duration:150}),this.canMove=!0},moveLeft:function(){for(var e=this,n=!1,t=function(t){for(var r=e.numberCells.filter((function(e){return e.y===t})).sort(e.sortByX),o=!1,i=function(t){if(0===t)0!==r[t].x&&(r[t].x=0,n=!0);else if(r[t].num!==r[t-1].num||o)r[t].x!==r[t-1].x+1&&(r[t].x=r[t-1].x+1,n=!0,o=!1);else{r[t].x=r[t-1].x,e.canMove=!1;var i=document.querySelector("#c".concat(r[t].id));i.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t-1].num=n,r[t-1].color=e.color[n];var o=document.querySelector("#c".concat(r[t-1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[t].id),1),r.splice(t,1),t--,e.score+=n}),!0),n=!0,o=!0}c=t},c=0;c<r.length;c++)i(c)},r=0;r<4;r++)t(r);n&&this.generateOneNumberCell()},moveRight:function(){for(var e=this,n=!1,t=function(t){for(var r=e.numberCells.filter((function(e){return e.y===t})).sort(e.sortByX),o=!1,i=function(t){if(t===r.length-1)3!==r[t].x&&(r[t].x=3,n=!0);else if(r[t].num!==r[t+1].num||o)r[t].x!==r[t+1].x-1&&(r[t].x=r[t+1].x-1,n=!0,o=!1);else{r[t].x=r[t+1].x,e.canMove=!1;var i=document.querySelector("#c".concat(r[t].id));i.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t+1].num=n,r[t+1].color=e.color[n];var o=document.querySelector("#c".concat(r[t+1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[t].id),1),r.splice(t,1),e.score+=n}),!0),n=!0,o=!0}},c=r.length-1;c>=0;c--)i(c)},r=0;r<4;r++)t(r);n&&this.generateOneNumberCell()},moveUp:function(){for(var e=this,n=!1,t=function(t){for(var r=e.numberCells.filter((function(e){return e.x===t})).sort(e.sortByY),o=!1,i=function(t){if(0===t)0!==r[t].y&&(r[t].y=0,n=!0);else if(r[t].num!==r[t-1].num||o)r[t].y!==r[t-1].y+1&&(r[t].y=r[t-1].y+1,n=!0,o=!1);else{r[t].y=r[t-1].y,e.canMove=!1;var i=document.querySelector("#c".concat(r[t].id));i.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t-1].num=n,r[t-1].color=e.color[n];var o=document.querySelector("#c".concat(r[t-1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[t].id),1),r.splice(t,1),t--,e.score+=n}),!0),n=!0,o=!0}c=t},c=0;c<r.length;c++)i(c)},r=0;r<4;r++)t(r);n&&this.generateOneNumberCell()},moveDown:function(){for(var e=this,n=!1,t=function(t){for(var r=e.numberCells.filter((function(e){return e.x===t})).sort(e.sortByY),o=!1,i=function(t){if(t===r.length-1)3!==r[t].y&&(r[t].y=3,n=!0);else if(r[t].num!==r[t+1].num||o)r[t].y!==r[t+1].y-1&&(r[t].y=r[t+1].y-1,n=!0,o=!1);else{r[t].y=r[t+1].y,e.canMove=!1;var i=document.querySelector("#c".concat(r[t].id));i.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t+1].num=n,r[t+1].color=e.color[n];var o=document.querySelector("#c".concat(r[t+1].id));e.animateMerge(o),e.numberCells.splice(e.getIndexById(r[t].id),1),r.splice(t,1),e.score+=n}),!0),n=!0,o=!0}},c=r.length-1;c>=0;c--)i(c)},r=0;r<4;r++)t(r);n&&this.generateOneNumberCell()},isFull:function(){return this.numberCells.length>15},isSuccess:function(){return!!this.numberCells.find((function(e){return 8192===e.num}))},isGameOver:function(){var e=this,n=function(){for(var n=function(n){for(var t=e.numberCells.filter((function(e){return e.y===n})).sort(e.sortByX),r=0;r<4;r++){if(n<3&&t[r].num===e.getCellByPoint({x:r,y:n+1}).num)return{v:!1};if(r<3&&t[r].num===t[r+1].num)return{v:!1}}},t=0;t<4;t++){var r=n(t);if("object"===Object(m["a"])(r))return r.v}return!0};return this.isFull()&&n()}}},C=x,O=(t("6dde"),Object(c["a"])(C,f,d,!1,null,"5559b4ce",null)),_=O.exports;r["a"].use(l["a"]);var w=[{path:"/",name:"Home",component:_}],S=new l["a"]({routes:w}),k=S,B=t("2f62");r["a"].use(B["a"]);var M=new B["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:k,store:M,render:function(e){return e(a)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var r=t("9c0c"),o=t.n(r);o.a},"6dde":function(e,n,t){"use strict";var r=t("c735"),o=t.n(r);o.a},"9c0c":function(e,n,t){},b14d:function(e,n,t){"use strict";var r=t("f503"),o=t.n(r);o.a},c735:function(e,n,t){},f503:function(e,n,t){}});
//# sourceMappingURL=app.db2c9662.js.map